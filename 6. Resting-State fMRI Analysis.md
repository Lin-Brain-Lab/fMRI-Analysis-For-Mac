# Resting-State fMRI Analysis
Single-subject resting-state fMRI analysis using seed-based correlation. fMRI time series at a given seed (such as the mPFC for the DMN) brain location is used to correlate with the fMRI time series at other brain locations. The distribution of brain regions showing significant correlation to the chosen seed consists of a resting-state network. Here we chose the hippocampus as the seed region for its functional role in memory.

## Pre-processing 
1. Pre-process the data following steps from the [fMRI Pre-Processing page](https://github.com/Lin-Brain-Lab/fMRI-Analysis-For-Mac/blob/main/fMRI%20Pre-Processing.md)
2. Create a folder path as such: /Users/jessica/data_analysis/seeg/s025/resting_analysis

## Seed Time Series
1. Download [get_native_hippo_regressor_rest.m](https://github.com/fahsuanlin/labmanual/blob/master/scripts/get_nativce_hippo_regressor_rest.m)
2. Change line 4 to `root_path='/Users/jessica/data_analysis/seeg';` path to your seeg folder
3. Change line 14 to `setenv('SUBJECTS_DIR','/Users/jessica/data_analysis/seeg/subjects');` your subject directory 
4. Change line 24 to `'028';` your subjects dicom number and 34 to `'s025';` your subjects ID
5. Change line 54 to `'%s/%s/fmri_data/unpack/register.dat'` location of your unpack folder
6. Change line 57 to `'%s/%s/fmri_data/unpack/bold/%s/%s.nii.gz'` your subjects bold folder
7. Comment out lines 5 and 15
8. Make sure your directory is /Users/jessica/data_analysis/seeg/s025/resting_analysis and run. If done successfully, output should be "DONE!" There should now be 3 files in your resting_analysis folder "native_hippo_regressors_rest_hippo_right.m," "native_hippo_regressors_rest_hippo_left.m," and "028-aseg.mgz"

## Perfrom Correlational Analysis 
1. Download [fconn_native_vol_aseg_120423.m](https://github.com/fahsuanlin/labmanual/blob/master/scripts/fconn_native_vol_aseg_120423.m)
2. Change line 4 to `'/Users/jessica/data_analysis/seeg/s025/fmri_data/unpack/bold/028';`
3. Change line 9 to `'/Users/jessica/data_analysis/seeg/s025/resting_analysis';`
4. Change line 13 to `'/Users/jessica/data_analysis/seeg/s025/resting_analysis/mc_regressor.mat';`
5. Change line 54 to `'s025';` your subject ID
6. Change line 107 to `'%s/regressor_wm_ventrical_028.mat'` you subjects dicom scan number
7. Make sure your directory is /Users/jessica/data_analysis/seeg/s025/resting_analysis and run. If done successfully, output should be "DONE!"

## Render Results Over Brain 
1. Download [show_gavg_fconn_native.m](https://github.com/fahsuanlin/labmanual/blob/master/scripts/show_gavg_fconn_native.m)
2. Change line 3 to `setenv('SUBJECTS_DIR','/Users/jessica/data_analysis/seeg/subjects');` and line 5 to your subject ID
3. Remove all lines after 10
4. Make sure your directory is /Users/jessica/data_analysis/seeg/s025/resting_analysis and run. If done successfully, output should be "DONE!"

   
